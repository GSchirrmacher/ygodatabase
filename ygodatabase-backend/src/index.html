<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <title>Rust + SQLite App</title>
    <script type="module">
      import { invoke } from "@tauri-apps/api";

      async function loadUsers() {
        const users = await invoke("get_users");
        document.getElementById("users").innerHTML = users.map(u => `<li>${u}</li>`).join("");
      }

      async function addUser() {
        const name = document.getElementById("name").value;
        await invoke("add_user", { name });
        loadUsers();
      }
    </script>
  </head>
  <body>
    <h1>Rust + SQLite Demo</h1>
    <input id="name" placeholder="Name" />
    <button onclick="addUser()">Add</button>
    <ul id="users"></ul>
    <button onclick="loadUsers()">Reload</button>
  </body>
</html>
